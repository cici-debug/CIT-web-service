Node:
(type) c
(layer)0
	Element:body
			Node:
			(type) h1
			(layer)1
				Element:h1
					Responsive Embeds
			Node:
			(type) c
			(layer)1
				Element:hr
					When we look at responsive embedding we have to deal with how an element appears on a number of devices and multiple sizes. Lucky for us, most embeds take care of this for us, we just need to display them correctly and allow them to resize with our content. [block:embed] { "html": "<iframe class=\"embedly-embed\" src=\"//cdn.embedly.com/widgets/media.html?url=https%3A%2F%2Fjsfiddle.net%2Fmgb18yLt%2F%3Fheight%3D450%26tabs%3Dresult%2Cjs%2Chtml%2Ccss&src=https%3A%2F%2Fjsfiddle.net%2Fmgb18yLt%2Fembedded%2Fresult%2Cjs%2Chtml%2Ccss%2F&type=text%2Fhtml&key=02466f963b9b4bb8845a05b53d3235d7&schema=jsfiddle\" width=\"600\" height=\"450\" scrolling=\"no\" frameborder=\"0\" allowfullscreen></iframe>", "url": "https://jsfiddle.net/mgb18yLt/?height=450&tabs=result,js,html,css", "title": "Edit fiddle - JSFiddle", "favicon": "https://jsfiddle.net/favicon.png" } [/block] You can prove it to yourself by resizing the window, but it looks like any other embed. We can accomplish this with just a bit of css and some javascript. The implementation below has both the code and the css. [block:api-header] { "type": "basic", "title": "How it Works" } [/block] We are going to build a wrapper around every embed like so: [block:code] { "codes": [ { "code": "<div class=\"responsive-object\">\n <iframe src=\"path/to/embed\" />\n</div>", "language": "html" } ] } [/block] This div will control the sizing of the underlying embed, so we want the embed to fill the entire space of the wrapper. We can accomplish this with a little bit of css. [block:code] { "codes": [ { "code": ".responsive-object iframe {\n position: absolute;\n top: 0;\n left: 0;\n width: 100%;\n height: 100%;\n}", "language": "css" } ] } [/block] The wrapper is a little more confusing as far as css, but it looks like this: [block:code] { "codes": [ { "code": ".responsive-object {\n position: relative;\n padding-bottom: 67.5%;\n height: 0;\n margin: 10px 0;\n overflow: hidden;\n}", "language": "css" } ] } [/block] By default a div will fill the entire width of the container, what we have to worry about is the height. `padding-bottom` defines the ratio between the width of the div and to the height of the embed. Because of the positioning of the iframe, the embed will fill the width and the height defined by the padding. It’s a little counter intuitive, but here’s a handy little diagram: [block:image] { "images": [ { "image": [ "https://files.readme.io/O2VLc3HqSymQoNZbpxgV_tumblr_inline_mutqaosxIt1qa90wi.png", "tumblr_inline_mutqaosxIt1qa90wi.png", "500", "314", "#1052b6", "" ] } ] } [/block] We have set a default `padding-bottom` here, but in reality the ratio of the sizing of an embed changes per provider and even per embed. We need to calculate the `padding-bottom` and then add this as a style to the responsive wrapper. We can do this with just a little bit of javascript: [block:code] { "codes": [ { "code": "var ratio = ((obj.height/obj.width)*100).toPrecision(4) + '%';", "language": "javascript" } ] } [/block] To put this all together, here is the code to convert links into responsive embeds. [block:code] { "codes": [ { "code": "$('a').embedly({\n display: function(obj){\n // Overwrite the default display.\n if (obj.type === 'video' || obj.type === 'rich'){\n // Figure out the percent ratio for the padding. This is (height/width) * 100\n var ratio = ((obj.height/obj.width)*100).toPrecision(4) + '%'\n\n // Wrap the embed in a responsive object div. See the CSS here!\n var div = $('<div class=\"responsive-object\">').css({\n paddingBottom: ratio\n });\n\n // Add the embed to the div.\n div.html(obj.html);\n\n // Replace the element with the div.\n $(this).replaceWith(div);\n }\n }\n});", "language": "javascript" } ] } [/block] There you have it, responsive embeds in 20 lines of code and a bit of css.
			Node:
			(type) c
			(layer)1
				Element:footer
