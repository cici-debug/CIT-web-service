Node:
(type) c
(layer)0
	Element:body
			Node:
			(type) h1
			(layer)1
				Element:h1
					Schedule SMS and Validity period
					Schedule SMS sending and set a validity period for your messages.
			Node:
			(type) c
			(layer)1
				Element:hr
					Besides sending messages in real time, our API enables you to take control over **message delivery schedule**, **message status** and **message expiration time window**. Message scheduling: * [Schedule SMS message](#schedule-sms-message) * [Get message schedule info](#get-message-schedule-info) * [Reschedule SMS message](#reschedule-sms-message) Message status: * [Get message status info](#get-message-status-info) * [Update message status](#update-message-status) Validity period: * [Set validity period](#set-validity-period) [block:api-header] { "type": "post", "title": "Schedule SMS message" } [/block] ``` https://api.infobip.com/sms/1/text/advanced ``` If you want to **schedule your SMS** to be sent later you can use **`sendAt`** parameter in the [Fully featured textual message](doc:fully-featured-textual-message) API method. This will set a specific date and time when the message will be sent. Date and time format for SMS scheduling: `2015-07-07T17:00:00.000+01:00`. [block:callout] { "type": "warning", "title": "Rescheduling requirements", "body": "Please note that in order to take advantage of message rescheduling certain requirements must be met. See [**Message rescheduling**](#section-reschedule-sms-message) section for details." } [/block] Example bellow shows how to schedule your message: [block:code] { "codes": [ { "code": "POST /sms/1/text/advanced HTTP/1.1\nHost: api.infobip.com\nAuthorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==\nContent-Type: application/json\n\n{\n \"messages\":[\n {\n \"from\":\"41793026700\",\n \"destinations\":[\n {\n \"to\":\"41793026785\"\n }\n ],\n \"text\":\"A long time ago, in a galaxy far, far away... It is a period of civil war. Rebel spaceships, striking from a hidden base, have won their first victory against the evil Galactic Empire.\",\n \"sendAt\":\"2015-07-07T17:00:00.000+01:00\"\n }\n ]\n}", "language": "json" } ] } [/block] And here is the response you will receive: [block:code] { "codes": [ { "code": "HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n \"bulkId\": \"b86c5f0f-40ed-47b7-9b7f-57eb9707b104\",\n \"messages\": [\n {\n \"to\": \"41793026785\",\n \"status\": {\n \"groupId\": 1,\n \"groupName\": \"PENDING\",\n \"id\": 26,\n \"name\": \"PENDING_ACCEPTED\",\n \"description\": \"Pending Accepted\"\n },\n \"messageId\": \"36397015-149a-41de-bccc-f7e365a7f89a\"\n }\n ]\n}", "language": "json" } ] } [/block] [block:api-header] { "type": "get", "title": "Get message schedule info" } [/block] ``` http://api.infobip.com/sms/1/bulks?bulkId={bulkId} ``` This method will return information for scheduled time for unique bulk message. Canceling and rescheduling is supported only when advanced SMS request contains only one message and message bulkId is unique. Request example: [block:code] { "codes": [ { "code": "GET /sms/1/bulks?bulkId=a6e6bf50-ade1-4dd5-8900-d5b3bb18c0cc HTTP/1.1\nHost: api.infobip.com\nAuthorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==\nContent-Type: application/json", "language": "json", "name": "JSON" } ] } [/block] Response: [block:code] { "codes": [ { "code": "{\n \"bulkId\": \"a6e6bf50-ade1-4dd5-8900-d5b3bb18c0cc\",\n \"sendAt\": \"2021-08-25T16:00:00.000+0000\"\n}", "language": "json", "name": "JSON" } ] } [/block] [block:api-header] { "type": "put", "title": "Reschedule SMS message" } [/block] ``` http://api.infobip.com/sms/1/bulks?bulkId={bulkId} ``` Messages scheduled with `sendAt` parameter can be paused, resumed or canceled by changing message status, or rescheduled using `bulkId` parameter as identifier. [block:callout] { "type": "warning", "body": "Please note that canceling and rescheduling is supported only when advanced SMS request contains only **one message** per bulk and message **bulkId** is unique.\n\nIf you don't provide **bulkId** through initial SMS send request, system will create unique id for you and include it as **bulkId** in response. This id can be used later to retrieve delivery information, change status and date/time of message delivery.\n\nMultiple messages in one bulk send request **CAN NOT BE UPDATED** since each message may contain different delivery date and time and have different status.", "title": "Rescheduling and status update requirements" } [/block] Request example: [block:code] { "codes": [ { "code": "PUT /sms/1/bulks?bulkId=a6e6bf50-ade1-4dd5-8900-d5b3bb18c0cc HTTP/1.1\nHost: api.infobip.com\nAuthorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==\nContent-Type: application/json\n\n{\n \"sendAt\": \"2021-08-25T16:00:00.000+0000\"\n}", "language": "json", "name": "JSON" } ] } [/block] Response: [block:code] { "codes": [ { "code": "{\n \"bulkId\": \"a6e6bf50-ade1-4dd5-8900-d5b3bb18c0cc\",\n \"sendAt\": \"2021-08-26T16:00:00.000+0000\"\n}", "language": "json", "name": "JSON" } ] } [/block] [block:api-header] { "type": "get", "title": "Get message status info" } [/block] ``` http://api.infobip.com/sms/1/bulks/status?bulkId={bulkId} ``` This method will return current status of the bulk message. Request example: [block:code] { "codes": [ { "code": "GET /sms/1/bulks/status?bulkId=a6e6bf50-ade1-4dd5-8900-d5b3bb18c0cc HTTP/1.1\nHost: api.infobip.com\nAuthorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==\nContent-Type: application/json", "language": "text", "name": "JSON" } ] } [/block] Response: [block:code] { "codes": [ { "code": "{\n \"bulkId\": \"a6e6bf50-ade1-4dd5-8900-d5b3bb18c0cc\",\n \"status\": \"CANCELED\"\n}", "language": "text", "name": "JSON" } ] } [/block] Below is a list of possible message statuses. Only PENDING and PAUSED status can be updated. [block:parameters] { "data": { "h-0": "Status", "0-0": "PENDING", "1-0": "PAUSED", "2-0": "CANCELED", "3-0": "PROCESSING", "4-0": "FINISHED", "5-0": "FAILED", "h-1": "Can be updated to", "0-1": "PAUSED, CANCELED", "h-2": "Else", "2-1": "n/a", "1-1": "PENDING, CANCELED", "3-1": "n/a", "4-1": "n/a", "5-1": "n/a" }, "cols": 2, "rows": 6 } [/block] [block:api-header] { "type": "put", "title": "Update message status" } [/block] ``` http://api.infobip.com/sms/1/bulks/status?bulkId={bulkId} ``` Messages scheduled with `sendAt` parameter can be paused, resumed or canceled by changing message status, or rescheduled using `bulkId` parameter as identifier. Following statuses can be updated: [block:parameters] { "data": { "h-0": "Status", "h-1": "Can be updated to", "0-0": "PENDING", "1-0": "PAUSED", "0-1": "PAUSED, CANCELED", "1-1": "PENDING, CANCELED" }, "cols": 2, "rows": 2 } [/block] [block:callout] { "type": "warning", "title": "Rescheduling and status update requirements", "body": "Please note that canceling and rescheduling is supported only when advanced SMS request contains only **one message** per bulk and message **bulkId** is unique.\n\nIf you don't provide **bulkId** through initial SMS send request, system will create unique id for you and include it as **bulkId** in response. This id can be used later to retrieve delivery information, change status and date/time of message delivery.\n\nMultiple messages in one bulk send request **CAN NOT BE UPDATED** since each message may contain different delivery date and time and have different status." } [/block] [block:callout] { "type": "info", "title": "Status update", "body": "PENDING and PAUSED statuses can be changed back and forth until message starts to process (scheduled time is up and message is sent).\n\nOnce message is CANCELED it can not be rescheduled or updated with new status! Message will remain undelivered regardless of the scheduled date and time." } [/block] Request example: [block:code] { "codes": [ { "code": "PUT /sms/1/bulks/status?bulkId=a6e6bf50-ade1-4dd5-8900-d5b3bb18c0cc HTTP/1.1\nHost: api.infobip.com\nAuthorization: Basic b25lYXBpOnRoZUJveA==\nContent-Type: application/json\n\n{\n \"status\": \"PAUSED\"\n}", "language": "json" } ] } [/block] Response: [block:code] { "codes": [ { "code": "{\n \"bulkId\": \"a6e6bf50-ade1-4dd5-8900-d5b3bb18c0cc\",\n \"status\": \"PAUSED\"\n}", "language": "json" } ] } [/block] [block:api-header] { "type": "post", "title": "Set validity period" } [/block] ``` https://api.infobip.com/sms/1/text/advanced ``` Besides scheduling messages, you can also set **validity period** for every SMS sent over [Fully featured textual message](doc:fully-featured-textual-message) API method. The message **`validityPeriod`** parameter should be set in **minutes**. The message sending will not be allowed after the set period expires. The maximum validity period is 48 hours and if you put a longer period, we will automatically set it to 48h. Request example [block:code] { "codes": [ { "code": "POST /sms/1/text/advanced HTTP/1.1\nHost: api.infobip.com\nAuthorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==\nContent-Type: application/json\n\n{\n \"messages\":[\n {\n \"from\":\"InfoSMS\",\n \"destinations\":[\n {\n \"to\":\"41793026727\",\n },\n {\n \"to\":\"41793026731\"\n }\n ],\n \"text\":\"The time-traveling is just too dangerous. Better that I devote myself to study the other great mystery of the universe: women!\",\n \"validityPeriod\": 1440\n }\n ]\n}", "language": "json" } ] } [/block] Response: [block:code] { "codes": [ { "code": "HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n \"bulkId\": \"a6e6bf50-ade1-4dd5-8900-d5b3bb18c0cc\",\n \"messages\": [\n {\n \"to\": \"41793026727\",\n \"status\": {\n \"groupId\": 1,\n \"groupName\": \"PENDING\",\n \"id\": 7,\n \"name\": \"PENDING_ENROUTE\",\n \"description\": \"Message sent to next instance\"\n },\n \"smsCount\": 1,\n \"messageId\": \"239a1bed-91d0-4454-a437-6663938465aa\"\n },\n {\n \"to\": \"41793026731\",\n \"status\": {\n \"groupId\": 1,\n \"groupName\": \"PENDING\",\n \"id\": 7,\n \"name\": \"PENDING_ENROUTE\",\n \"description\": \"Message sent to next instance\"\n },\n \"smsCount\": 1,\n \"messageId\": \"77a6e601-c12d-4a66-8e16-d8ec8c5fbc03\"\n }\n ]\n}", "language": "json" } ] } [/block]
			Node:
			(type) c
			(layer)1
				Element:footer
			Node:
			(type) c
			(layer)1
												Node:
												(type) c
												(layer)4
													Element:h4
														Subscribe to our newsletter
												Node:
												(type) c
												(layer)4
													Element:noscript
												Node:
												(type) c
												(layer)4
													Element:noscript
