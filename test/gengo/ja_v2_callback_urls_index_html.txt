Node:
(type) c
(layer)0
	Element:body
			Node:
			(type) h1
			(layer)1
				Element:h1
					コールバック
				Element:a
					¶
			Node:
			(type) c
			(layer)1
				Element:p
					翻訳のご注文を送信されるときには、ご注文中の各案件用に “callback_url” を設定できます。Gengoでは案件にアップデートがあるつど、あなたのシステムとGengoを同期化するための最も効率的な方法でアップデート内容をお知らせします。
			Node:
			(type) c
			(layer)1
				Element:p
					コールバック通知は、以下のときに送られます:
			Node:
			(type) c
			(layer)1
				Element:ul
				Element:li
					案件が、弊社翻訳者にとって受注可能になったとき
				Element:li
					案件が、弊社翻訳者によって翻訳が開始された時
				Element:li
					案件がレビュー可能になったとき
				Element:li
					案件が承認されたとき
				Element:li
					案件の承認が、弊社のGengoのお客様用インターフェースの依頼管理ボードからマニュアルで行われたとき
				Element:li
					案件に翻訳者からのコメントがあったとき
			Node:
			(type) c
			(layer)1
				Element:p
					コールバックURLへのデータ提出が15分毎に1回、最大12時間試行されます。エンドポイントに到達できない場合は、 GET
				Element:a
					/translate/order/{id}/
					エンドポイントを使って翻訳を受け取ることをお勧めします。
			Node:
			(type) c
			(layer)1
				Element:p
					ファイル案件の場合、あなたのコールバックに送られるリクエストには “file_url_tgt” のパラメータが含まれおり、これは翻訳されたファイルへのリンクです。このリンクは
				Element:a
					Job(GET)
					でGETから取得されるファイル案件用URLとは異なっています (その場合は “src_file_link” になります)。
			Node:
			(type) c
			(layer)1
				Element:p
				Element:strong
					コールバックは60KB以上の内容を送ることができません。もし大容量のテキストを送りたい場合は、
				Element:a
					Job(GET)
				Element:strong
					を使用ください。こちらの問題の恒久的な対応につきましては現在対応中です。
			Node:
			(type) c
			(layer)1
				Element:p
				Element:strong
					コールバックURLは認証情報を含むことはできません。
			Node:
			(type) c
			(layer)1
						Node:
						(type) c
						(layer)2
							Element:h2
								パラメータフォーマット
							Element:a
								¶
						Node:
						(type) c
						(layer)2
							Element:p
								コールバックのパラメータはJSON形式になっており、POSTの呼び出しで送信されます。案件関連の通知用には、案件のペイロードは “job” と名付けられたパラメータに含まれ、レスポンスであるかのようにPOSTされます。以下は、クライアントがGengoから受け取る案件関連のコールバック通知の一例です:
						Node:
						(type) c
						(layer)2
							Element:table
							Element:tr
							Element:td
							Element:pre
								1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18
							Element:td
							Element:pre
							Element:span
								#!/usr/bin/python
							Element:span
								# -*- coding: utf-8 -*-
							Element:span
								import
							Element:span
								cgi
							Element:span
								import
							Element:span
								json
							Element:span
								form
							Element:span
								=
							Element:span
								cgi
							Element:span
								.
							Element:span
								FieldStorage
							Element:span
								()
							Element:span
								print
							Element:span
								(
							Element:span
								"Content-type: text/html
							Element:span
								\n
							Element:span
								"
							Element:span
								)
							Element:span
								if
							Element:span
								"job"
							Element:span
								in
							Element:span
								form
							Element:span
								:
							Element:span
								json_data
							Element:span
								=
							Element:span
								form
							Element:span
								[
							Element:span
								"job"
							Element:span
								]
							Element:span
								.
							Element:span
								value
							Element:span
								else
							Element:span
								:
							Element:span
								json_data
							Element:span
								=
							Element:span
								False
							Element:span
								if
							Element:span
								json_data
							Element:span
								:
							Element:span
								print
							Element:span
								(
							Element:span
								json
							Element:span
								.
							Element:span
								loads
							Element:span
								(
							Element:span
								json_data
							Element:span
								,
							Element:span
								'utf-8'
							Element:span
								))
							Element:span
								else
							Element:span
								:
							Element:span
								print
							Element:span
								(
							Element:span
								"fail"
							Element:span
								)
						Node:
						(type) c
						(layer)2
							Element:p
								コメント関連の通知は、翻訳者が案件にコメントした際に同じコールバック先に送付されます。ペイロードは、”comment” と名付けられたパラメータに含まれ、以下のように表示されます:
						Node:
						(type) c
						(layer)2
							Element:p
							Element:tt
								:
							Element:span
								job_id
							Element:em
								文字列
								コメントを適用する案件ID
						Node:
						(type) c
						(layer)2
							Element:p
							Element:tt
								:
							Element:span
								body
							Element:em
								文字列
								コメント本文。
						Node:
						(type) c
						(layer)2
							Element:p
							Element:tt
								:
							Element:span
								ctime
							Element:em
								文字列
								コメントの提出時刻を表すUnix タイムスタンプ
						Node:
						(type) c
						(layer)2
							Element:p
							Element:tt
								:
							Element:span
								custom_data
							Element:em
								文字列
								案件に関連付けられたカスタムデータ (存在する場合)
						Node:
						(type) c
						(layer)2
							Element:p
							Element:tt
								:
							Element:span
								file_url_tgt
							Element:em
								文字列
								ターゲットファイルのフルURL
						Node:
						(type) c
						(layer)2
							Element:p
								案件にコメントがあったときにクライアントが受け取るコールバック通知の例をご紹介します:
						Node:
						(type) c
						(layer)2
							Element:table
							Element:tr
							Element:td
							Element:pre
								1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34
							Element:td
							Element:pre
							Element:span
								#!/usr/bin/python
							Element:span
								# -*- coding: utf-8 -*-
							Element:span
								import
							Element:span
								cgi
							Element:span
								import
							Element:span
								json
							Element:span
								form
							Element:span
								=
							Element:span
								cgi
							Element:span
								.
							Element:span
								FieldStorage
							Element:span
								()
							Element:span
								print
							Element:span
								(
							Element:span
								"Content-type: text/html
							Element:span
								\n
							Element:span
								"
							Element:span
								)
							Element:span
								if
							Element:span
								"comment"
							Element:span
								in
							Element:span
								form
							Element:span
								:
							Element:span
								json_data
							Element:span
								=
							Element:span
								form
							Element:span
								[
							Element:span
								"comment"
							Element:span
								]
							Element:span
								.
							Element:span
								value
							Element:span
								else
							Element:span
								:
							Element:span
								json_data
							Element:span
								=
							Element:span
								False
							Element:span
								if
							Element:span
								json_data
							Element:span
								:
							Element:span
								data
							Element:span
								=
							Element:span
								json
							Element:span
								.
							Element:span
								loads
							Element:span
								(
							Element:span
								json_data
							Element:span
								,
							Element:span
								'utf-8'
							Element:span
								)
							Element:span
								comment
							Element:span
								=
							Element:span
								{}
							Element:span
								# job id to which comment applies
							Element:span
								comment
							Element:span
								[
							Element:span
								"job_id"
							Element:span
								]
							Element:span
								=
							Element:span
								data
							Element:span
								[
							Element:span
								"job_id"
							Element:span
								]
							Element:span
								# actual comment text
							Element:span
								comment
							Element:span
								[
							Element:span
								"body"
							Element:span
								]
							Element:span
								=
							Element:span
								data
							Element:span
								[
							Element:span
								"body"
							Element:span
								]
							Element:span
								# comment creation time
							Element:span
								comment
							Element:span
								[
							Element:span
								"ctime"
							Element:span
								]
							Element:span
								=
							Element:span
								data
							Element:span
								[
							Element:span
								"ctime"
							Element:span
								]
							Element:span
								# custom data from job (if any)
							Element:span
								custom_data
							Element:span
								=
							Element:span
								data
							Element:span
								[
							Element:span
								"custom_data"
							Element:span
								]
							Element:span
								if
							Element:span
								"custom_data"
							Element:span
								in
							Element:span
								data
							Element:span
								else
							Element:span
								None
							Element:span
								print
							Element:span
								(
							Element:span
								comment
							Element:span
								)
							Element:span
								print
							Element:span
								(
							Element:span
								custom_data
							Element:span
								)
							Element:span
								else
							Element:span
								:
							Element:span
								print
							Element:span
								(
							Element:span
								"fail"
							Element:span
								)
						Node:
						(type) c
						(layer)2
							Element:footer
							Element:a
							Element:span
								MENU
							Element:i
							Element:a
							Element:a
							Element:a
							Element:a
							Element:span
								© 2008-2017 Gengo, Inc
							Element:span
							Element:a
								ご利用規約
							Element:span
							Element:a
								品質方針
							Element:a
							Element:p
								法人様お問合せ先
							Element:br
								03-6450-5219
