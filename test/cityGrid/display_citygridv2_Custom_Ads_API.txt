Node:
(type) c
(layer)0
	Element:body
			Node:
			(type) h1
			(layer)1
				Element:h1
				Element:a
				Element:img
			Node:
			(type) c
			(layer)1
				Element:ul
				Element:li
				Element:a
					Blog
				Element:li
				Element:a
					Docs
				Element:li
				Element:a
					Forum
				Element:li
				Element:a
					Dashboard
			Node:
			(type) c
			(layer)1
				Element:ul
				Element:li
				Element:a
				Element:span
				Element:span
					Tools
				Element:ul
				Element:li
				Element:a
				Element:span
					A
				Element:u
					t
					tachments (0)
				Element:li
				Element:a
				Element:span
					Page History
				Element:li
				Element:a
				Element:span
					Restrictions
				Element:ul
				Element:li
				Element:a
				Element:span
					Page Information
				Element:li
				Element:a
				Element:span
					Link to this Page…
				Element:li
				Element:a
				Element:span
					View in Hierarchy
				Element:li
				Element:a
				Element:span
					View Source
				Element:li
				Element:a
				Element:span
					Export to PDF
				Element:li
				Element:a
				Element:span
					Export to Word
			Node:
			(type) c
			(layer)1
				Element:a
				Element:img
			Node:
			(type) c
			(layer)1
				Element:ol
				Element:li
				Element:span
				Element:a
					CityGrid V2
				Element:li
				Element:span
				Element:a
					CityGrid APIs
				Element:li
				Element:span
				Element:a
					Ads by CityGrid
			Node:
			(type) h1
			(layer)1
				Element:h1
				Element:a
					Custom Ads API
			Node:
			(type) c
			(layer)1
				Element:fieldset
			Node:
			(type) c
			(layer)1
				Element:a
					Skip to end of metadata
			Node:
			(type) c
			(layer)1
				Element:ul
				Element:li
				Element:a
				Element:img
				Element:span
				Element:li
					Created by
				Element:span
					, last modified on
				Element:a
					Publisher
				Element:a
					Aug 17, 2015
			Node:
			(type) c
			(layer)1
				Element:a
					Go to start of metadata
			Node:
			(type) c
			(layer)1
				Element:fieldset
			Node:
			(type) c
			(layer)1
						Node:
						(type) c
						(layer)2
							Element:h2
								Introduction
						Node:
						(type) c
						(layer)2
							Element:p
								As a
							Element:span
								CityGrid
								partner, you can place
							Element:span
								CityGrid
								ads on your web and mobile applications and get paid when your users click on them. Ads can be obtained by requests to the
							Element:strong
								Custom Ads API
								, which provide you raw advertisement data in
							Element:a
								XML
								, leaving you free to customize all look-and-feel aspects of the display, including formatting, colors, and fonts.
						Node:
						(type) c
						(layer)2
							Element:p
								Advertisements are requested by
							Element:strong
								category
								and
							Element:strong
								geography
								. Consider an application in which a user searches for "restaurants". The application has previously determined that the user is located in or near Santa Monica, CA, and has left that information in a cookie. The application can create relevant
							Element:span
								CityGrid
								advertisements by using "restaurants" and "Santa Monica, CA" as arguments when making a call to the Custom Ads API.
						Node:
						(type) c
						(layer)2
							Element:p
								The Custom Ads API contains two endpoints: one for which the location is
							Element:a
								defined in terms of the name of a geographic region
								, and the other for which it is
							Element:a
								defined in terms of latitude and longitude
								.
						Node:
						(type) c
						(layer)2
							Element:span
								Icon
						Node:
						(type) c
						(layer)2
							Element:p
								Custom Ads by design contain no display information. If you wish to obtain pre-redendered ad units from
							Element:span
								CityGrid
								, see the
							Element:a
								Web Ads API
								for ads you can display on desktop browsers or the
							Element:a
								Mobile Ads API
								for ads you can display on mobile native and web applications.
						Node:
						(type) c
						(layer)2
									Node:
									(type) c
									(layer)3
										Element:h3
											Contents
									Node:
									(type) c
									(layer)3
										Element:p
									Node:
									(type) c
									(layer)3
										Element:ul
										Element:li
										Element:a
											Introduction
										Element:li
										Element:a
											Audience
										Element:li
										Element:a
											Version 2 Updates
										Element:li
										Element:a
											Obtaining Custom Ads by Named Geographic Region
										Element:ul
										Element:li
										Element:a
											Where HTTPS Endpoint
										Element:li
										Element:a
											Where Request
										Element:li
										Element:a
											Where Usage Examples
										Element:li
										Element:a
											Obtaining Custom Ads by Latitude and Longitude
										Element:ul
										Element:li
										Element:a
											LatLon HTTPS Endpoint
										Element:li
										Element:a
											LatLon Request
										Element:li
										Element:a
											LatLon Usage Examples
										Element:li
										Element:a
											Mapping URL
										Element:li
										Element:a
											Response
										Element:ul
										Element:li
										Element:a
											XML Output
										Element:li
										Element:a
											Error Codes
			Node:
			(type) c
			(layer)1
						Node:
						(type) c
						(layer)2
							Element:h2
								Audience
						Node:
						(type) c
						(layer)2
							Element:p
								The Custom Ads API is intended for developers of web and mobile applications who want place custom advertisements from
							Element:span
								CityGrid
								into their applications to earn credit when the advertisement is clicked. Custom advertisements are ads which do not contain display information; instead, publishers are free to match their application's look-and-feel when rendering ad data.
			Node:
			(type) c
			(layer)1
						Node:
						(type) c
						(layer)2
							Element:h2
								Version 2 Updates
						Node:
						(type) c
						(layer)2
							Element:ul
							Element:li
								Changes to results elements
							Element:ul
							Element:li
								Added impression id,
							Element:em
								i
							Element:li
								The
							Element:em
								ad_destination_url
								is now an obfuscated URL. This URL will be decrypted and the proper redirect will take place when this link is followed.
			Node:
			(type) c
			(layer)1
						Node:
						(type) c
						(layer)2
							Element:h2
								Obtaining Custom Ads by Named Geographic Region
						Node:
						(type) c
						(layer)2
							Element:p
								The
							Element:strong
								where
								endpoint returns custom ads using a region (city, neighborhood, or metro) name or zip code. It is useful for free-form text and broad geographical region-based searches.
						Node:
						(type) c
						(layer)2
									Node:
									(type) c
									(layer)3
										Element:h3
											Where HTTPS Endpoint
									Node:
									(type) c
									(layer)3
										Element:p
											The following endpoint is used with HTTPS GET:
						Node:
						(type) c
						(layer)2
									Node:
									(type) c
									(layer)3
										Element:h3
											Where Request
									Node:
									(type) c
									(layer)3
										Element:p
											The following query string parameters are used with the Custom Ads API
										Element:strong
											where
											endpoint:
									Node:
									(type) c
									(layer)3
										Element:table
										Element:tbody
										Element:tr
										Element:th
										Element:p
											Parameter
										Element:th
										Element:p
											Description
										Element:th
										Element:p
											Required
										Element:th
										Element:p
											Valid Values
										Element:th
										Element:p
											Default
										Element:th
										Element:p
											Examples
										Element:th
										Element:p
											Notes
										Element:tr
										Element:td
										Element:p
											what
										Element:td
										Element:p
											What a user is searching for
										Element:td
										Element:p
											Yes
										Element:td
										Element:p
										Element:td
										Element:p
										Element:td
										Element:p
											pizza
										Element:br
											sporting%20goods
										Element:br
											plumbers
										Element:td
										Element:p
										Element:tr
										Element:td
										Element:p
											where
										Element:td
										Element:p
											The geographic location, generally a zip code or city-state pair
										Element:td
										Element:p
											See
										Element:a
											Notes
											below
										Element:td
										Element:p
											A zip code, city-state pair, or street address (Spaces are optional following the comma between a city and state)
										Element:td
										Element:p
										Element:td
										Element:p
											91011
										Element:br
											Pasadena,%20CA
										Element:br
											Cambridge,MA
										Element:br
											1%20Main,Miami,FL
										Element:td
										Element:p
										Element:tr
										Element:td
										Element:p
											raw_what
										Element:td
										Element:p
											The original user search phrase if available.
										Element:td
										Element:p
											No
										Element:td
										Element:p
										Element:td
										Element:p
										Element:td
										Element:p
											italian%20food
										Element:br
											plumbing%20work
										Element:td
										Element:p
										Element:tr
										Element:td
										Element:p
											raw_where
										Element:td
										Element:p
											The original user search phrase if available.
										Element:td
										Element:p
											No
										Element:td
										Element:p
										Element:td
										Element:p
										Element:td
										Element:p
											los%20angeles
										Element:td
										Element:p
										Element:tr
										Element:td
										Element:p
											radius
										Element:td
										Element:p
											Radius of a circle search using
										Element:em
											client_ip
											.
										Element:td
										Element:p
											No
										Element:td
										Element:p
											An integer between 1 and 25, inclusive
										Element:td
										Element:p
											25
										Element:td
										Element:p
											2
										Element:td
										Element:p
											If
										Element:em
											radius
											is larger than 25, it defaults to 25
										Element:tr
										Element:td
										Element:p
											publisher
										Element:td
										Element:p
											The publisher code that identifies you
										Element:td
										Element:p
											Yes
										Element:td
										Element:p
										Element:td
										Element:p
										Element:td
										Element:p
											acme
										Element:td
										Element:p
											This parameter is required so that we know who to credit
										Element:tr
										Element:td
										Element:p
											max
										Element:td
										Element:p
											The Number of ads that you want to be returned
										Element:td
										Element:p
											Yes
										Element:td
										Element:p
											Integers, 1 through 10
										Element:td
										Element:p
											10
										Element:td
										Element:p
											3
										Element:td
										Element:p
											Values over 10 will only return 10 results
										Element:tr
										Element:td
										Element:p
											placement
										Element:td
										Element:p
											An optional property for storing additional information you would like
										Element:span
											CityGrid
											Media to log for this view
										Element:td
										Element:p
											No
										Element:td
										Element:p
										Element:td
										Element:p
										Element:td
										Element:p
											google
										Element:br
											yahoo
										Element:br
											searchresults
										Element:td
										Element:p
											An example: if you are re-syndicating advertisements, you can use this parameter to record the ultimate destination for the advertisement. If you are placing
										Element:span
											CityGrid
											advertisements on your own site, you can record where on your site the advertisement will be placed
										Element:tr
										Element:td
										Element:p
											mapping_url
										Element:td
										Element:p
											A callback URL
										Element:td
										Element:p
											No
										Element:td
										Element:p
										Element:td
										Element:p
										Element:td
										Element:p
											See
										Element:a
											#Mapping URL
											for more information.
										Element:tr
										Element:td
										Element:p
											client_ip
										Element:td
										Element:p
											The IP address of your client
										Element:td
										Element:p
											See
										Element:a
											Notes
											below
										Element:td
										Element:p
											IPv4 or IPv6
										Element:td
										Element:p
										Element:td
										Element:p
											17.148.221.102
										Element:td
										Element:p
											This is used to determine a geography if the
										Element:em
											where
											parameter is not supplied
										Element:tr
										Element:td
										Element:p
											user_agent
										Element:td
										Element:p
											The version of browser or device the ad is served on
										Element:td
										Element:p
											No
										Element:td
										Element:p
										Element:td
										Element:p
											The user agent value from the request header
										Element:td
										Element:p
											Mozilla%2F5.0+%28BlackBerry%3B+U%3B+BlackBerry+9800%3B
										Element:br
											+en-US%29+AppleWebKit%2F534.1%2B+%28KHTML%2C+like
										Element:br
											+Gecko%29+Version%2F6.0.0.246+Mobile+Safari%2F534.1%2B
										Element:td
										Element:p
										Element:tr
										Element:td
										Element:p
											serve_url
										Element:td
										Element:p
											The URL of the requested page
										Element:td
										Element:p
											No
										Element:td
										Element:p
										Element:td
										Element:p
										Element:td
										Element:p
											http%3A%2F%2Fnational.citysearch.com%2Fprofile%2F10843791
										Element:br
											%2Fbremerton_wa%2Fgehring_brothers_guns.html
										Element:td
										Element:p
										Element:tr
										Element:td
											sem_network
										Element:td
											Property for storing the network for you to optimize your marketing campaigns against, if you do marketing
										Element:td
											No
										Element:td
											Alphanumeric
										Element:td
										Element:td
										Element:span
											Google, Bing, Ezanga etc.
										Element:td
										Element:tr
										Element:td
											sem_network_source
										Element:td
											Property for storing network source for you to optimize your marketing campaigns against, if you do marketing
										Element:td
											No
										Element:td
											Alphanumeric
										Element:td
										Element:td
										Element:span
											Search network, Run of network,
										Element:a
											google.com
										Element:span
											etc.
										Element:td
										Element:tr
										Element:td
											sem_affiliate_id
										Element:td
											Property for storing an affiliate id for you to optimize your marketing campaigns against, if you do marketing
										Element:td
											No
										Element:td
											Integer
										Element:td
										Element:td
										Element:span
											Publisher id e.g. 3
										Element:td
										Element:tr
										Element:td
											sem_sub_affiliate_id
										Element:td
											Property for storing sub-affiliate_id for you to optimize your marketing campaigns against, if you do marketing
										Element:td
											No
										Element:td
											Integer
										Element:td
										Element:td
										Element:span
											Sub-publisher id e.g. 21
										Element:td
										Element:tr
										Element:td
											sem_campaign_id
										Element:td
											Property for storing campaign id for you to optimize your marketing campaigns against, if you do marketing
										Element:td
											No
										Element:td
											Integer
										Element:td
										Element:td
										Element:span
											45723
										Element:td
										Element:tr
										Element:td
											sem_adgroup_id
										Element:td
											Property for storing adgroup id you to optimize your marketing campaigns against, if you do marketing
										Element:td
											No
										Element:td
											Alphanumeric
										Element:td
										Element:td
										Element:span
											Generic Auto Parts
										Element:td
										Element:tr
										Element:td
											sem_creative_id
										Element:td
											Property for storing creative id for you to optimize your marketing campaigns against, if you do marketing
										Element:td
											No
										Element:td
											Alphanumeric
										Element:td
										Element:td
											swf1
										Element:td
										Element:tr
										Element:td
											sem_query
										Element:td
											Property for storing a query for you to optimize your marketing campaigns against, if you do marketing
										Element:td
											No
										Element:td
											Alphanumeric
										Element:td
										Element:td
										Element:span
											pizza,
										Element:span
											sporting goods
										Element:td
										Element:tr
										Element:td
											sem_matched_keyword
										Element:td
											Property for storing a matched keyword for you to optimize your marketing campaigns against, if you do marketing
										Element:td
											No
										Element:td
											Alphanumeric
										Element:td
										Element:td
										Element:span
											construction
										Element:td
										Element:tr
										Element:td
											sem_device
										Element:td
											Property for storing the device for you to optimize your marketing campaigns against, if you do marketing
										Element:td
											No
										Element:td
											Alphanumeric
										Element:td
										Element:td
										Element:span
											mobile device, desktop etc.
										Element:td
									Node:
									(type) c
									(layer)3
										Element:span
											Icon
									Node:
									(type) c
									(layer)3
										Element:p
											Arguments must be properly
										Element:a
											URL-encoded
											(spaces as %20 or +, ampersands as %26, and so on).
									Node:
									(type) c
									(layer)3
										Element:p
										Element:span
										Element:br
										Element:strong
											Notes
									Node:
									(type) c
									(layer)3
										Element:ul
										Element:li
											To define a geography, you must either specify
										Element:em
											where
											or
										Element:em
											client_ip
											. If you specify both, then
										Element:em
											where
											will be used, and
										Element:em
											client_ip
											will be ignored.
									Node:
									(type) c
									(layer)3
										Element:ul
										Element:li
											For
										Element:em
											where
											, the
										Element:a
											Specifying Where
											section in the
										Element:a
											Places API
											topic provides more details.
									Node:
									(type) c
									(layer)3
										Element:ul
										Element:li
											For
										Element:em
											client_ip
											, you may specify a
										Element:em
											radius
											to indicate a circle around the location of the IP address. If no
										Element:em
											radius
											is specified, then a radius of 25 miles is used.
						Node:
						(type) c
						(layer)2
									Node:
									(type) c
									(layer)3
										Element:h3
											Where Usage Examples
									Node:
									(type) c
									(layer)3
										Element:p
											The following table provides some example uses of the Custom Ads API and their corresponding URL with query parameters. Click on the links to try them out.
									Node:
									(type) c
									(layer)3
										Element:table
										Element:tbody
										Element:tr
										Element:th
										Element:p
											Usage
										Element:th
										Element:p
											URL
										Element:tr
										Element:td
										Element:p
											Return restaurants in Los Angeles
										Element:td
										Element:p
										Element:a
											https://api.citygridmedia.com/ads/custom/v2/where?what=restaurant&where=los%20angeles,CA&publisher=test
										Element:tr
										Element:td
										Element:p
											Return restaurants for postal code 90069
										Element:td
										Element:p
										Element:a
											https://api.citygridmedia.com/ads/custom/v2/where?what=restaurant&where=90069&publisher=test
										Element:tr
										Element:td
										Element:p
											Return restaurants for a user at IP address 4.74.197.0
										Element:td
										Element:p
										Element:a
											https://api.citygridmedia.com/ads/custom/v2/where?what=restaurant&client_ip=4.74.197.0&publisher=test
										Element:tr
										Element:td
										Element:p
											Return up to 5 spas near zip code 90069
										Element:td
										Element:p
										Element:a
											https://api.citygridmedia.com/ads/custom/v2/where?where=90069&what=spa&publisher=test&max=5
										Element:tr
										Element:td
										Element:p
											Return up to 10 bars in Detroit. Note that 10 is the default maximum
										Element:td
										Element:p
										Element:a
											https://api.citygridmedia.com/ads/custom/v2/where?where=Detroit,MI&what=bar&publisher=test
										Element:tr
										Element:td
										Element:p
											Return up to 10 bakeries for whatever region the user with IP 23.110.26.29 resides
										Element:td
										Element:p
										Element:a
											https://api.citygridmedia.com/ads/custom/v2/where?what=bakery&client_ip=23.110.26.29&publisher=test
										Element:tr
										Element:td
										Element:p
											Return up to 10 pet businesses in Reno, telling
										Element:span
											CityGrid
											you would like this request logged under the placement identifier “magazine.”
										Element:td
										Element:p
										Element:a
											https://api.citygridmedia.com/ads/custom/v2/where?where=reno,nv&what=pet&placement=magazine&publisher=test
										Element:tr
										Element:td
										Element:p
											Return up to 10 bars near zip code 90004, including an XML schema location with the results
										Element:td
										Element:p
										Element:a
											https://api.citygridmedia.com/ads/custom/v2/where?where=90004&what=bar&publisher=test&schema=true
			Node:
			(type) c
			(layer)1
						Node:
						(type) c
						(layer)2
							Element:h2
								Obtaining Custom Ads by Latitude and Longitude
						Node:
						(type) c
						(layer)2
							Element:p
								The
							Element:strong
								latlon
								endpoint returns custom ads using a geographic region defined by latitude and longitude.
						Node:
						(type) c
						(layer)2
									Node:
									(type) c
									(layer)3
										Element:h3
										Element:span
											LatLon
											HTTPS Endpoint
									Node:
									(type) c
									(layer)3
										Element:p
											The following endpoint supports HTTPS GET:
						Node:
						(type) c
						(layer)2
									Node:
									(type) c
									(layer)3
										Element:h3
										Element:span
											LatLon
											Request
									Node:
									(type) c
									(layer)3
										Element:p
											The following query string parameters are used with the Custom Ads API
										Element:strong
											latlon
											endpoint:
									Node:
									(type) c
									(layer)3
										Element:table
										Element:tbody
										Element:tr
										Element:th
										Element:p
											Parameter
										Element:th
										Element:p
											Description
										Element:th
										Element:p
											Required
										Element:th
										Element:p
											Valid Values
										Element:th
										Element:p
											Default
										Element:th
										Element:p
											Examples
										Element:th
										Element:p
											Notes
										Element:tr
										Element:td
										Element:p
											what
										Element:td
										Element:p
											What a user is searching for
										Element:td
										Element:p
											Yes
										Element:td
										Element:p
										Element:td
										Element:p
										Element:td
										Element:p
											pizza
										Element:br
											sporting%20goods
										Element:br
											plumbers
										Element:td
										Element:p
										Element:tr
										Element:td
										Element:p
											lat
										Element:td
										Element:p
											Latitude of the center of a circle for a geographic search
										Element:td
										Element:p
											See
										Element:a
											Notes
											below
										Element:td
										Element:p
										Element:td
										Element:p
										Element:td
										Element:p
											37.65056
										Element:td
										Element:p
										Element:tr
										Element:td
										Element:p
											lon
										Element:td
										Element:p
											Longitude of the center of a circle for a geographic search.
										Element:td
										Element:p
											See
										Element:a
											Notes
											below
										Element:td
										Element:p
										Element:td
										Element:p
										Element:td
										Element:p
											-119.03639
										Element:td
										Element:p
										Element:tr
										Element:td
										Element:p
											radius
										Element:td
										Element:p
											Radius of a circle search.
										Element:td
										Element:p
											See
										Element:a
											Notes
											below
										Element:td
										Element:p
											An integer between 1 and 50, inclusive
										Element:td
										Element:p
											4
										Element:td
										Element:p
											2
										Element:td
										Element:p
											If
										Element:em
											radius
											is larger than 25, it defaults to 25
										Element:tr
										Element:td
										Element:p
											raw_what
										Element:td
										Element:p
											The original user search phrase if available.
										Element:td
										Element:p
											No
										Element:td
										Element:p
										Element:td
										Element:p
										Element:td
										Element:p
											italian%20food
										Element:br
											plumbing%20work
										Element:td
										Element:p
										Element:tr
										Element:td
										Element:p
											raw_where
										Element:td
										Element:p
											The original user search phrase if available.
										Element:td
										Element:p
											No
										Element:td
										Element:p
										Element:td
										Element:p
										Element:td
										Element:p
											los%20angeles
										Element:td
										Element:p
										Element:tr
										Element:td
										Element:p
											publisher
										Element:td
										Element:p
											The publisher code that identifies you
										Element:td
										Element:p
											Yes
										Element:td
										Element:p
										Element:td
										Element:p
										Element:td
										Element:p
											acme
										Element:td
										Element:p
											This parameter is required so that we know who to credit
										Element:tr
										Element:td
										Element:p
											max
										Element:td
										Element:p
											The Number of ads that you want to be returned
										Element:td
										Element:p
											Yes
										Element:td
										Element:p
											Integers, 1 through 10
										Element:td
										Element:p
											10
										Element:td
										Element:p
											3
										Element:td
										Element:p
											Values over 10 will only return 10 results
										Element:tr
										Element:td
										Element:p
											placement
										Element:td
										Element:p
											An optional property for storing additional information you would like
										Element:span
											CityGrid
											Media to log for this view
										Element:td
										Element:p
											No
										Element:td
										Element:p
										Element:td
										Element:p
										Element:td
										Element:p
											google
										Element:br
											yahoo
										Element:br
											searchresults
										Element:td
										Element:p
											An example: if you are re-syndicating advertisements, you can use this parameter to record the ultimate destination for the advertisement. If you are placing
										Element:span
											CityGrid
											advertisements on your own site, you can record where on your site the advertisement will be placed
										Element:tr
										Element:td
										Element:p
											mapping_url
										Element:td
										Element:p
											A callback URL
										Element:td
										Element:p
											No
										Element:td
										Element:p
										Element:td
										Element:p
										Element:td
										Element:p
											See
										Element:a
											#Mapping URL
											for more information.
										Element:tr
										Element:td
										Element:p
											client_ip
										Element:td
										Element:p
											The IP address of your client
										Element:td
										Element:p
											See
										Element:a
											Notes
											below
										Element:td
										Element:p
											IPv4 or IPv6
										Element:td
										Element:p
										Element:td
										Element:p
											17.148.221.102
										Element:td
										Element:p
											This is used to determine a geography if the
										Element:em
											where
											parameter is not supplied
										Element:tr
										Element:td
										Element:p
											user_agent
										Element:td
										Element:p
											The version of browser or device the ad is served on
										Element:td
										Element:p
											No
										Element:td
										Element:p
										Element:td
										Element:p
											The user agent value from the request header
										Element:td
										Element:p
											Mozilla%2F5.0+%28BlackBerry%3B+U%3B+BlackBerry+9800%3B
										Element:br
											+en-US%29+AppleWebKit%2F534.1%2B+%28KHTML%2C+like
										Element:br
											+Gecko%29+Version%2F6.0.0.246+Mobile+Safari%2F534.1%2B
										Element:td
										Element:p
										Element:tr
										Element:td
										Element:p
											serve_url
										Element:td
										Element:p
											The URL of the requested page
										Element:td
										Element:p
											No
										Element:td
										Element:p
										Element:td
										Element:p
										Element:td
										Element:p
											http%3A%2F%2Fnational.citysearch.com%2Fprofile%2F10843791
										Element:br
											%2Fbremerton_wa%2Fgehring_brothers_guns.html
										Element:td
										Element:p
										Element:tr
										Element:td
											sem_network
										Element:td
											Property for storing the network for you to optimize your marketing campaigns against, if you do marketing
										Element:td
											No
										Element:td
											Alphanumeric
										Element:td
										Element:td
										Element:span
											Google, Bing, etc.
										Element:td
										Element:tr
										Element:td
											sem_network_source
										Element:td
											Property for storing network source for you to optimize your marketing campaigns against, if you do marketing
										Element:td
											No
										Element:td
											Alphanumeric
										Element:td
										Element:td
										Element:span
											Search network, Run of network,
										Element:a
											google.com
										Element:span
											etc.
										Element:td
										Element:tr
										Element:td
											sem_affiliate_id
										Element:td
											Property for storing an affiliate id for you to optimize your marketing campaigns against, if you do marketing
										Element:td
											No
										Element:td
											Integer
										Element:td
										Element:td
										Element:span
											Publisher id e.g. 3
										Element:td
										Element:tr
										Element:td
											sem_sub_affiliate_id
										Element:td
											Property for storing sub-affiliate_id for you to optimize your marketing campaigns against, if you do marketing
										Element:td
											No
										Element:td
											Integer
										Element:td
										Element:td
										Element:span
											Sub-publisher id e.g. 21
										Element:td
										Element:tr
										Element:td
											sem_campaign_id
										Element:td
											Property for storing campaign id for you to optimize your marketing campaigns against, if you do marketing
										Element:td
											No
										Element:td
											Integer
										Element:td
										Element:td
										Element:span
											45723
										Element:td
										Element:tr
										Element:td
											sem_adgroup_id
										Element:td
											Property for storing adgroup id you to optimize your marketing campaigns against, if you do marketing
										Element:td
											No
										Element:td
											Alphanumeric
										Element:td
										Element:td
										Element:span
											Generic Auto Parts
										Element:td
										Element:tr
										Element:td
											sem_creative_id
										Element:td
											Property for storing creative id for you to optimize your marketing campaigns against, if you do marketing
										Element:td
											No
										Element:td
											Alphanumeric
										Element:td
										Element:td
											swf-1
										Element:td
										Element:tr
										Element:td
											sem_query
										Element:td
											Property for storing a query for you to optimize your marketing campaigns against, if you do marketing
										Element:td
											No
										Element:td
											Alphanumeric
										Element:td
										Element:td
										Element:span
											pizza
										Element:br
										Element:span
											sporting goods
										Element:td
										Element:tr
										Element:td
											sem_matched_keyword
										Element:td
											Property for storing a matched keyword for you to optimize your marketing campaigns against, if you do marketing
										Element:td
											No
										Element:td
											Alphanumeric
										Element:td
										Element:td
										Element:span
											construction
										Element:td
										Element:tr
										Element:td
											sem_device
										Element:td
											Property for storing the device for you to optimize your marketing campaigns against, if you do marketing
										Element:td
											No
										Element:td
											Alphanumeric
										Element:td
										Element:td
										Element:span
											mobile device, desktop etc.
										Element:td
									Node:
									(type) c
									(layer)3
										Element:span
											Icon
									Node:
									(type) c
									(layer)3
										Element:p
											Arguments must be properly
										Element:a
											URL-encoded
											(spaces as %20 or +, ampersands as %26, and so on).
									Node:
									(type) c
									(layer)3
										Element:p
										Element:span
										Element:br
										Element:strong
											Notes
									Node:
									(type) c
									(layer)3
										Element:ul
										Element:li
											To define a geography, you must either specify
										Element:em
											lat
											,
										Element:em
											lon
											, and
										Element:em
											radius
											, or else
										Element:em
											client_ip
											. If you specify both, then
										Element:em
											lat
											/
										Element:em
											lon
											/
										Element:em
											radius
											will be used, and
										Element:em
											client_ip
											will be ignored.
									Node:
									(type) c
									(layer)3
										Element:ul
										Element:li
											For
										Element:em
											lat
											/
										Element:em
											lon
											/
										Element:em
											radius
											, the
										Element:a
											Point-Radius Circle
											section in the
										Element:a
											Places API
											topic provides more details.
									Node:
									(type) c
									(layer)3
										Element:ul
										Element:li
											For
										Element:em
											client_ip
											, you may specify a
										Element:em
											radius
											to indicate a circle around the location of the IP address. If no
										Element:em
											radius
											is specified, then a radius of 25 miles is used.
						Node:
						(type) c
						(layer)2
									Node:
									(type) c
									(layer)3
										Element:h3
										Element:span
											LatLon
											Usage Examples
									Node:
									(type) c
									(layer)3
										Element:p
											The following table provides some example uses of the Custom Ads API and their corresponding URL with query parameters. Click on the links to try them out.
									Node:
									(type) c
									(layer)3
										Element:table
										Element:tbody
										Element:tr
										Element:th
										Element:p
											Usage
										Element:th
										Element:p
											URL
										Element:tr
										Element:td
										Element:p
											Return restaurants for an area described by latitude, longitude and radius
										Element:td
										Element:p
										Element:a
											https://api.citygridmedia.com/ads/custom/v2/latlon?what=restaurant&lat=38.5654&lon=-121.46753&radius=5&publisher=test
										Element:tr
										Element:td
										Element:p
											Same as above, but limited to 10 responses
										Element:td
										Element:p
										Element:a
											https://api.citygridmedia.com/ads/custom/v2/latlon?what=restaurant&lat=38.5654&lon=-121.46753&radius=5&max=10&publisher=test
			Node:
			(type) c
			(layer)1
						Node:
						(type) c
						(layer)2
							Element:h2
								Mapping URL
						Node:
						(type) c
						(layer)2
							Element:p
								The
							Element:em
								mapping url
								is an optional ad callback URL.
						Node:
						(type) c
						(layer)2
							Element:span
								Icon
						Node:
						(type) c
						(layer)2
							Element:p
								The mapping_url parameter is not commonly used. Work with your account manager if you are interested in using a callback.
						Node:
						(type) c
						(layer)2
							Element:p
								The mapping url must have the following form:
						Node:
						(type) c
						(layer)2
							Element:p
								Here <hostname> and <path> are provided by you; the API will generate the tracking information and replace the ${...} placeholders to provide the actual callback URL. You must provide parameter names and placeholders, exactly as specified above, for
							Element:code
								impressionId
								,
							Element:code
								referenceId
								,
							Element:code
								listingId
								, and
							Element:code
								cgRefId
								. Only
							Element:code
								actionTarget
								is optional.
						Node:
						(type) c
						(layer)2
							Element:span
								Icon
						Node:
						(type) c
						(layer)2
							Element:p
								The URL should be encoded before passing it as a parameter in the request.
			Node:
			(type) c
			(layer)1
						Node:
						(type) c
						(layer)2
							Element:h2
								Response
						Node:
						(type) c
						(layer)2
							Element:p
								The Custom Ads Where results are returned in
							Element:a
								XML
								.
						Node:
						(type) c
						(layer)2
							Element:p
								The following table describes the return elements:
						Node:
						(type) c
						(layer)2
							Element:table
							Element:tbody
							Element:tr
							Element:th
							Element:p
								Element
							Element:th
							Element:p
								Parent Element
							Element:th
							Element:p
								Description
							Element:tr
							Element:td
							Element:p
								ads
							Element:td
							Element:p
							Element:td
							Element:p
								Top level container of advertisement elements
							Element:tr
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								ads
							Element:td
							Element:p
								Advertisement data
							Element:tr
							Element:td
							Element:p
								id
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								The ID to uniquely identify the ad
							Element:tr
							Element:td
							Element:p
								impression_id
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								The impression ID returned per ad
							Element:tr
							Element:td
							Element:p
								type
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								The type of the ad. Always "local PFP", which indicates the ad to be local Pay For Performance
							Element:tr
							Element:td
							Element:p
								listing_id
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								The ID to uniquely identify
							Element:span
								CityGrid
								's businesses
							Element:tr
							Element:td
							Element:p
								name
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								The name of the advertiser's business
							Element:tr
							Element:td
							Element:p
								street
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								The street address of the business
							Element:tr
							Element:td
							Element:p
								city
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								The city of the business
							Element:tr
							Element:td
							Element:p
								state
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								The state of the business
							Element:tr
							Element:td
							Element:p
								zip
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								The postal code of the business
							Element:tr
							Element:td
							Element:p
								latitude
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								The latitude of the business
							Element:tr
							Element:td
							Element:p
								longitude
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								The longitude of the business
							Element:tr
							Element:td
							Element:p
								phone
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								The phone number of the business
							Element:tr
							Element:td
							Element:p
								tagline
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								The tagline of the business (always one line)
							Element:tr
							Element:td
							Element:p
								description
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								A description of the business
							Element:tr
							Element:td
							Element:p
								overall_review_rating
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								The rating of the business
							Element:tr
							Element:td
							Element:p
								ad_destination_url
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								The obfuscated url target of a click on the ad. This url is not visibly aesthetic, because it contains a number of tracking parameters
							Element:tr
							Element:td
							Element:p
								ad_display_url
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								A clean, but fake, url to show on a page, so end users are comfortable clicking on the associated ad
							Element:tr
							Element:td
							Element:p
								ad_image_url
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								The url of the image to display with the ad
							Element:tr
							Element:td
							Element:p
								gross_ppe
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								Price per event
							Element:tr
							Element:td
							Element:p
								offers
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								Offers the business is currently offering
							Element:tr
							Element:td
							Element:p
								reviews
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								Reviews of the business
							Element:tr
							Element:td
							Element:p
								distance
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								Distance the business is located from latitude/longitude provided. (Only provided for lat/lon Search)
							Element:tr
							Element:td
							Element:p
								attribution_text
							Element:td
							Element:p
								ad
							Element:td
							Element:p
								The attribution text from our ads partners. This text must be displayed if attribution_text is provided.
						Node:
						(type) c
						(layer)2
							Element:span
								Icon
						Node:
						(type) c
						(layer)2
							Element:p
								character data is required to be escaped, so you will likely see the character entities for ", &, >, <, and '.
						Node:
						(type) c
						(layer)2
									Node:
									(type) c
									(layer)3
										Element:h3
											XML Output
									Node:
									(type) c
									(layer)3
										Element:p
											The following is an example of an XML response:
						Node:
						(type) c
						(layer)2
									Node:
									(type) c
									(layer)3
										Element:h3
											Error Codes
									Node:
									(type) c
									(layer)3
										Element:p
											Errors are indicated in the HTTPS response as follows:
									Node:
									(type) c
									(layer)3
										Element:table
										Element:tbody
										Element:tr
										Element:th
										Element:p
											HTTPS Status Code
										Element:th
										Element:p
											Type
										Element:th
										Element:p
											Message
										Element:th
										Element:p
											Description
										Element:tr
										Element:td
										Element:p
											403
										Element:td
										Element:p
											Status report
										Element:td
										Element:p
											Invalid 'publisher' parameter
										Element:td
										Element:p
											Access to the specified resource has been forbidden because of an invalid
										Element:em
											publisher
											parameter.
										Element:tr
										Element:td
										Element:p
											403
										Element:td
										Element:p
											Status report
										Element:td
										Element:p
											Missing 'publisher' parameter
										Element:td
										Element:p
											Access to the specified resource has been forbidden because of a missing
										Element:em
											publisher
											parameter.
										Element:tr
										Element:td
										Element:p
											403
										Element:td
										Element:p
											Status report
										Element:td
										Element:p
											Missing 'what' parameter
										Element:td
										Element:p
											Access to the specified resource has been forbidden because of a missing
										Element:em
											what
											parameter.
										Element:tr
										Element:td
										Element:p
											403
										Element:td
										Element:p
											Status report
										Element:td
										Element:p
											Missing 'where' or 'lat' and 'lon' or 'client_ip' parameter
										Element:td
										Element:p
											Access to the specified resource has been forbidden because of missing location information (
										Element:em
											where
											,
										Element:em
											lat
											and
										Element:em
											lon
											, or
										Element:em
											client_ip
											).
										Element:tr
										Element:td
										Element:p
											403
										Element:td
										Element:p
											Status report
										Element:td
										Element:p
											Invalid 'max' parameter
										Element:td
										Element:p
											Access to the specified resource has been forbidden because of an invalid
										Element:em
											max
											parameter
										Element:tr
										Element:td
										Element:p
											403
										Element:td
										Element:p
											Status report
										Element:td
										Element:p
											Invalid 'lat' parameter
										Element:td
										Element:p
											Access to the specified resource has been forbidden because of an invalid
										Element:em
											lat
											parameter
										Element:tr
										Element:td
										Element:p
											403
										Element:td
										Element:p
											Status report
										Element:td
										Element:p
											Invalid 'lon' parameter
										Element:td
										Element:p
											Access to the specified resource has been forbidden because of an invalid
										Element:em
											lon
											parameter
									Node:
									(type) c
									(layer)3
										Element:ul
										Element:li
											No labels
